@inherits FluxorComponent

<MudTable ServerData="GetItemsAsync"
          Elevation="0"
          RowsPerPage="5" 
          Hover="true" 
          Style="background-color: inherit; max-width: 390px !important; width: auto !important; min-width: 350px !important;" 
          Breakpoint="Breakpoint.Sm"
          Class="fit-content"
          @ref="@_table"
          CurrentPage="@TableState.Value.PageNumber">
    <ToolBarContent>
            <MudTextField @bind-Value="@_searchString"
                      Immediate 
                      Clearable 
                      DebounceInterval="300" 
                      Placeholder="Search for crypto prices" 
                      Adornment="Adornment.Start" 
                      AdornmentIcon="@Icons.Material.Filled.Search" 
                      Variant="Variant.Outlined"
                      IconSize="Size.Medium" 
                      Class="mb-5"
                      OnDebounceIntervalElapsed="OnSearch"></MudTextField>      
    </ToolBarContent>
    <RowTemplate>
        <MudTd Class="d-flex flex-row px-0">
            <MudContainer Class="d-flex flex-column pa-0">
                <MudText>@context.Symbol</MudText>                       
                @if (context.Name is not null)
                {
                    <MudText Style="min-width: max-content;" Color="Color.Secondary">@context.Name</MudText>
                }                    
            </MudContainer>
            <MudSpacer/>
            <CryptoPriceComponent Symbol="@context.Symbol" GetPrice="GetPrice"/>                          
        </MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager HideRowsPerPage/>
    </PagerContent>
</MudTable>