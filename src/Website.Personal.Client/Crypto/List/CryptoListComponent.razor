<MudTable RowsPerPage="5" Items="@CryptoExtensions.SupportedCrypto" Hover="true" Breakpoint="Breakpoint.Sm" Filter="Search" Class="fit-content">
    <ToolBarContent>
        <MudTextField @bind-Value="_searchString" Immediate Clearable DebounceInterval="300" Placeholder="Search for crypto prices" Adornment="Adornment.Start" AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
    </ToolBarContent>
    <RowTemplate>
        <MudTd>
            <CryptoPriceComponent CryptoInfo="context"/>
        </MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager HideRowsPerPage/>
    </PagerContent>
</MudTable>

@code {
    private string _searchString = string.Empty;

    private bool Search(CryptoInfo info)
    {
        if (!string.IsNullOrEmpty(_searchString))
        {
            return info.Name.Contains(_searchString, StringComparison.OrdinalIgnoreCase) ||
                    info.Ticker.Contains(_searchString, StringComparison.OrdinalIgnoreCase);
        }
        return true;
    }
}